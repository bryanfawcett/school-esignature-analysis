<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>K-12 School Forms - Complete Reclassification Analysis</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <h1>K-12 School Forms - Complete Reclassification Analysis</h1>
        
        <div class="summary">
            <h3>📋 Executive Summary - Raw Data Analysis</h3>
            <p>Analysis of 15,131 form transactions from Singapore American School's e-signature system. This reclassification identifies opportunities to reduce e-signature requirements by converting appropriate forms from "E-signature" to "Approval" workflow, achieving significant administrative efficiency while maintaining legal compliance.</p>
            
            <div class="impact-stats">
                <div class="stat-card">
                    <span class="stat-number">15,131</span>
                    <span class="stat-label">Total Transactions</span>
                </div>
                <div class="stat-card">
                    <span class="stat-number">8,970</span>
                    <span class="stat-label">Signature Forms (59.3%)</span>
                </div>
                <div class="stat-card">
                    <span class="stat-number">6,161</span>
                    <span class="stat-label">Approval Forms (40.7%)</span>
                </div>
                <div class="stat-card">
                    <span class="stat-number">40.7%</span>
                    <span class="stat-label">E-signature Reduction</span>
                </div>
            </div>
        </div>

        <!-- Data Source Selection -->
        <div class="data-source-section">
            <h2>📊 Choose Your Analysis</h2>
            <p>Select how you'd like to explore e-signature optimization opportunities:</p>
            
            <div class="analysis-options">
                <div class="option-card sample-option" id="sample-card">
                    <div class="option-header">
                        <h3>🏫 View Sample Analysis</h3>
                        <span class="option-badge sample">Sample Data</span>
                    </div>
                    <div class="option-content">
                        <p><strong>Singapore American School Case Study</strong></p>
                        <p>Explore our comprehensive analysis of 15,131 real transactions showing 40.7% optimization potential.</p>
                        <ul class="option-features">
                            <li>✅ Real school data and results</li>
                            <li>✅ Best practice examples</li>
                            <li>✅ Implementation recommendations</li>
                        </ul>
                        <button class="option-btn sample-btn" onclick="showSampleAnalysis()">
                            📋 Explore Sample Analysis
                        </button>
                    </div>
                </div>
                
                <div class="option-card upload-option" id="upload-card">
                    <div class="option-header">
                        <h3>🔄 Analyze Your Data</h3>
                        <span class="option-badge upload">Your School</span>
                    </div>
                    <div class="option-content">
                        <p><strong>Upload Your School's CSV Data</strong></p>
                        <p>Get personalized optimization recommendations based on your actual e-signature usage patterns.</p>
                        <ul class="option-features">
                            <li>🎯 Customized recommendations</li>
                            <li>📈 Your optimization percentage</li>
                            <li>🔒 Secure client-side processing</li>
                        </ul>
                        <button class="option-btn upload-btn" onclick="showUploadAnalysis()">
                            📁 Upload Your Data
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Current Analysis Display -->
        <div class="current-analysis" id="current-analysis" style="display: none;">
            <div class="analysis-header">
                <div class="analysis-title">
                    <h2 id="analysis-title">📊 Analysis Results</h2>
                    <span class="analysis-source" id="analysis-source">Sample Data</span>
                </div>
                <button class="switch-btn" onclick="showDataSourceSelection()">
                    🔄 Switch Analysis Type
                </button>
            </div>
        </div>

        <!-- CSV Upload Section (Hidden by default) -->
        <div class="upload-section" id="upload-section" style="display: none;">
            <div class="upload-header">
                <h3>📁 Upload Your School's E-Signature Data</h3>
                <p>Drag and drop your CSV file or click to browse. We'll analyze it and provide optimization recommendations.</p>
            </div>
            
            <div class="upload-container">
                <div class="upload-area" id="upload-area">
                    <div class="upload-icon">📁</div>
                    <div class="upload-text">
                        <h4>Drop your CSV file here or click to browse</h4>
                        <p>Supported format: CSV with Form Name and Count columns</p>
                    </div>
                    <input type="file" id="csv-file" accept=".csv" style="display: none;">
                </div>
                
                <div class="upload-info">
                    <h5>📋 Required CSV Format:</h5>
                    <div class="format-example">
                        <code>Form Name, Count, Type (optional)</code><br>
                        <code>Digital Citizenship Agreement, 1239</code><br>
                        <code>Faculty Contract, 213, Contract</code><br>
                        <code>Device Acceptance Form, 173</code>
                    </div>
                    <div class="upload-tips">
                        <p><strong>💡 Tips:</strong></p>
                        <ul>
                            <li>Export from DocuSign, Adobe Sign, or similar</li>
                            <li>Include form names and transaction counts</li>
                            <li>Data processed securely in your browser</li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <div class="upload-actions">
                <button class="btn-secondary" onclick="showDataSourceSelection()">
                    ← Back to Analysis Options
                </button>
            </div>
        </div>

        <!-- Upload Results Section -->
        <div class="upload-results" id="upload-results" style="display: none;">
            <div class="results-header">
                <h3>🎯 Your School's Optimization Analysis</h3>
                <span class="results-badge">Custom Analysis</span>
            </div>
            <div class="results-summary" id="results-summary"></div>
            <div class="results-actions">
                <button class="btn-primary" onclick="resetAnalysis()">
                    🔄 Analyze Different File
                </button>
                <button class="btn-secondary" onclick="showDataSourceSelection()">
                    ← Back to Analysis Options
                </button>
            </div>
        </div>

        <div class="filter-section" id="filter-section">
            <h4>📋 Filter Forms</h4>
            <div class="filter-buttons">
                <button class="filter-btn active" onclick="filterTable('all', this)">📊 All Forms</button>
                <button class="filter-btn" onclick="filterTable('signature', this)">✍️ Signature Only</button>
                <button class="filter-btn" onclick="filterTable('approval', this)">✅ Approval Only</button>
                <button class="filter-btn" onclick="filterTable('changed', this)">🔄 Optimized Forms</button>
                <button class="filter-btn" onclick="filterTable('high-volume', this)">📈 High Volume (100+)</button>
            </div>
            <div class="filter-info">
                <span id="visible-count">Loading...</span> forms displayed
            </div>
        </div>

        <table id="formsTable">
            <thead>
                <tr>
                    <th class="sortable" onclick="sortTable(0)">Form Name ↕️</th>
                    <th class="sortable" onclick="sortTable(1)">Transaction Count ↕️</th>
                    <th>Original Type</th>
                    <th>New Type</th>
                    <th>Status</th>
                    <th>Strategic Rationale</th>
                </tr>
            </thead>
            <tbody>
                <!-- High Impact Optimizations -->
                <tr class="changed">
                    <td class="form-name">Passport Information Update & Passport Data Page Upload</td>
                    <td class="count">1,651</td>
                    <td class="type-col">E-signature</td>
                    <td class="type-col approval">Approval</td>
                    <td>OPTIMIZED</td>
                    <td>Document update process - suitable for approval workflow</td>
                </tr>
                
                <tr class="changed">
                    <td class="form-name">Interim Semester Behavior & Registration Agreement 2024-2025</td>
                    <td class="count">1,261</td>
                    <td class="type-col">E-signature</td>
                    <td class="type-col approval">Approval</td>
                    <td>OPTIMIZED</td>
                    <td>Registration acknowledgment - approval based</td>
                </tr>
                
                <tr class="changed">
                    <td class="form-name">HS Digital Citizenship Agreement (DCA) - August 2024</td>
                    <td class="count">1,239</td>
                    <td class="type-col">E-signature</td>
                    <td class="type-col approval">Approval</td>
                    <td>OPTIMIZED</td>
                    <td>Policy acknowledgment - suitable for approval</td>
                </tr>
                
                <tr class="changed">
                    <td class="form-name">Athletic Code of Conduct (Ver March 2024)</td>
                    <td class="count">705</td>
                    <td class="type-col">E-signature</td>
                    <td class="type-col approval">Approval</td>
                    <td>OPTIMIZED</td>
                    <td>Code acknowledgment - approval workflow appropriate</td>
                </tr>

                <!-- High volume signature forms (unchanged) -->
                <tr>
                    <td class="form-name">Yearlong Consent Form For Low-Risk Day Trips (August 2024)</td>
                    <td class="count">316</td>
                    <td class="type-col">E-signature</td>
                    <td class="type-col signature">Signature</td>
                    <td>PRESERVED</td>
                    <td>Parent consent required - must remain signature</td>
                </tr>
                
                <tr>
                    <td class="form-name">Student Contract and Transcript/Record Release (August 2024)</td>
                    <td class="count">304</td>
                    <td class="type-col">E-signature</td>
                    <td class="type-col signature">Signature</td>
                    <td>PRESERVED</td>
                    <td>Legal contract - signature required</td>
                </tr>
                
                <!-- More changed forms -->
                <tr class="changed">
                    <td class="form-name">Mobile Phone Reimbursement Form</td>
                    <td class="count">411</td>
                    <td class="type-col">E-signature</td>
                    <td class="type-col approval">Approval</td>
                    <td>OPTIMIZED</td>
                    <td>Reimbursement request - approval process</td>
                </tr>
                
                <tr class="changed">
                    <td class="form-name">SAS Payroll Gift Form 2024-25</td>
                    <td class="count">220</td>
                    <td class="type-col">E-signature</td>
                    <td class="type-col approval">Approval</td>
                    <td>OPTIMIZED</td>
                    <td>Payroll request - approval workflow</td>
                </tr>
                
                <!-- Faculty contracts (unchanged) -->
                <tr>
                    <td class="form-name">2025-2026 OSH Faculty Contract (A)</td>
                    <td class="count">213</td>
                    <td class="type-col">E-signature</td>
                    <td class="type-col signature">Signature</td>
                    <td>PRESERVED</td>
                    <td>Employment contract - signature required</td>
                </tr>
                
                <tr class="changed">
                    <td class="form-name">ES New Devices Acceptance Form</td>
                    <td class="count">173</td>
                    <td class="type-col">E-signature</td>
                    <td class="type-col approval">Approval</td>
                    <td>OPTIMIZED</td>
                    <td>Device responsibility - approval sufficient</td>
                </tr>
                
                <!-- More contract forms (unchanged) -->
                <tr>
                    <td class="form-name">EP Renewal Form</td>
                    <td class="count">120</td>
                    <td class="type-col">E-signature</td>
                    <td class="type-col signature">Signature</td>
                    <td>PRESERVED</td>
                    <td>Contract renewal - signature required</td>
                </tr>
                
                <tr class="changed">
                    <td class="form-name">Substitute Forms</td>
                    <td class="count">102</td>
                    <td class="type-col">E-signature</td>
                    <td class="type-col approval">Approval</td>
                    <td>OPTIMIZED</td>
                    <td>Substitute request - approval process</td>
                </tr>
                
                <tr>
                    <td class="form-name">HS Activities Coach Contract (Level 1)</td>
                    <td class="count">99</td>
                    <td class="type-col">E-signature</td>
                    <td class="type-col signature">Signature</td>
                    <td>PRESERVED</td>
                    <td>Employment contract - signature required</td>
                </tr>
                
                <tr>
                    <td class="form-name">2025 Summer Semester TEACHER Contract</td>
                    <td class="count">79</td>
                    <td class="type-col">E-signature</td>
                    <td class="type-col signature">Signature</td>
                    <td>PRESERVED</td>
                    <td>Employment contract - signature required</td>
                </tr>
                
                <tr class="changed">
                    <td class="form-name">HS New Devices Acceptance Form</td>
                    <td class="count">78</td>
                    <td class="type-col">E-signature</td>
                    <td class="type-col approval">Approval</td>
                    <td>OPTIMIZED</td>
                    <td>Device responsibility - approval sufficient</td>
                </tr>
                
                <tr class="changed">
                    <td class="form-name">Support Staff Individual Professional Development Pre-Approval Form</td>
                    <td class="count">77</td>
                    <td class="type-col">E-signature</td>
                    <td class="type-col approval">Approval</td>
                    <td>OPTIMIZED</td>
                    <td>Professional development request - approval process</td>
                </tr>
                
                <tr class="changed">
                    <td class="form-name">IASAS Rules & Guidelines 2024-2025</td>
                    <td class="count">76</td>
                    <td class="type-col">E-signature</td>
                    <td class="type-col approval">Approval</td>
                    <td>OPTIMIZED</td>
                    <td>Guidelines acknowledgment - approval sufficient</td>
                </tr>
                
                <!-- Board petitions (unchanged) -->
                <tr>
                    <td class="form-name">2025 Board Candidate Petition Form - Priya Nevrekar</td>
                    <td class="count">65</td>
                    <td class="type-col">E-signature</td>
                    <td class="type-col signature">Signature</td>
                    <td>PRESERVED</td>
                    <td>Legal petition - signature required</td>
                </tr>
                
                <tr>
                    <td class="form-name">Quest Program Participation Agreement Form & Quest Global Permission Form SY 2025-2026</td>
                    <td class="count">66</td>
                    <td class="type-col">E-signature</td>
                    <td class="type-col signature">Signature</td>
                    <td>PRESERVED</td>
                    <td>Program participation agreement - signature required</td>
                </tr>
                
                <tr class="changed">
                    <td class="form-name">Personal & Emergency Info Form</td>
                    <td class="count">51</td>
                    <td class="type-col">E-signature</td>
                    <td class="type-col approval">Approval</td>
                    <td>OPTIMIZED</td>
                    <td>Information update - approval workflow</td>
                </tr>
                
                <!-- Total rows -->
                <tr class="total-row">
                    <td><strong>📊 TOTAL - All Forms</strong></td>
                    <td class="count"><strong>15,131</strong></td>
                    <td class="type-col"><strong>E-signature</strong></td>
                    <td class="type-col"><strong>Mixed</strong></td>
                    <td><strong>ANALYZED</strong></td>
                    <td><strong>Complete reclassification analysis</strong></td>
                </tr>
                <tr style="background-color: #e8f5e8;">
                    <td><strong>✅ APPROVAL OPTIMIZED</strong></td>
                    <td class="count"><strong>6,161</strong></td>
                    <td class="type-col"><strong>E-signature</strong></td>
                    <td class="type-col"><strong>Approval</strong></td>
                    <td><strong>40.7%</strong></td>
                    <td><strong>Converted to streamlined approval workflow</strong></td>
                </tr>
                <tr style="background-color: #ffe6e6;">
                    <td><strong>✍️ SIGNATURE PRESERVED</strong></td>
                    <td class="count"><strong>8,970</strong></td>
                    <td class="type-col"><strong>E-signature</strong></td>
                    <td class="type-col"><strong>Signature</strong></td>
                    <td><strong>59.3%</strong></td>
                    <td><strong>Maintained for legal/contractual requirements</strong></td>
                </tr>
            </tbody>
        </table>

        <div class="summary" style="background-color: #d4edda; border-left-color: #28a745;">
            <h3>🚀 Key Implementation Recommendations</h3>
            <ol>
                <li><strong>Immediate Quick Wins:</strong> Convert high-volume policy acknowledgments (Digital Citizenship: 1,239, Athletic Code: 705) to approval workflow for immediate 13% e-signature reduction</li>
                <li><strong>Device Management:</strong> Consolidate all device acceptance forms (ES: 173, HS: 78) into approval-based workflows with audit trails</li>
                <li><strong>Document Updates:</strong> Convert passport information updates (1,651 forms) to approval workflow - these are data updates, not contractual agreements</li>
                <li><strong>Staff Processes:</strong> Move HR-related approvals (reimbursements: 411, professional development: 77) to approval workflows</li>
                <li><strong>Maintain Legal Compliance:</strong> Keep all contracts (faculty, coach, board petitions), parent consents, and program agreements as e-signature</li>
                <li><strong>Phased Implementation:</strong> Start with highest-volume forms first to maximize immediate impact</li>
            </ol>
            
            <h4>Expected Benefits:</h4>
            <ul>
                <li><strong>40.7% reduction</strong> in e-signature processing requirements</li>
                <li><strong>6,161 fewer</strong> complex signature workflows annually</li>
                <li><strong>Faster processing</strong> for policy acknowledgments and routine requests</li>
                <li><strong>Maintained compliance</strong> for all legal and contractual documents</li>
                <li><strong>Improved user experience</strong> for routine administrative tasks</li>
            </ul>
        </div>

        <div style="margin-top: 2rem; text-align: center; padding: 2rem; background-color: #f8f9fa; border-radius: 8px;">
            <h4>📊 K-12 E-Signature Optimization Study</h4>
            <p>Singapore American School • Educational Technology Analysis</p>
            <p style="font-size: 0.9rem; color: #666;">Study Period: Academic Year 2024-2025 • Analysis Date: January 2025</p>
            <a href="https://github.com/bryanfawcett/school-esignature-analysis" target="_blank" style="display: inline-block; margin-top: 1rem; padding: 0.5rem 1rem; background-color: #007bff; color: white; text-decoration: none; border-radius: 4px;">📋 View on GitHub</a>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>